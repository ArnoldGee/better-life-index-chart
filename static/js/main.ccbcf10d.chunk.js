(this["webpackJsonpbetter-life-index"]=this["webpackJsonpbetter-life-index"]||[]).push([[0],{163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(17),s=n.n(c),o=n(4),i=n(6),u={ADD_CHART_DATA:"ADD_CHART_DATA",CHANGE_SELECTED_CHART:"CHANGE_SELECTED_CHART"},l={selectedChart:"",options:[]},h=Object(i.b)({chartData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case u.ADD_CHART_DATA:return a;default:return e}},chartOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case u.ADD_CHART_DATA:var r=Object.keys(a[0]);return r.shift(),{selectedChart:"lifeSatisfaction",options:r};case u.CHANGE_SELECTED_CHART:return{selectedChart:a,options:e.options};default:return e}}}),d=n(10),b=n.n(d),f=n(33),j=n(52),p=n.n(j),O=n.p+"static/media/better_life_index_data.f16a3eb8.csv";function x(){return m.apply(this,arguments)}function m(){return(m=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O);case 2:return t=e.sent,e.next=5,t.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(f.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,n=p.a.parse(t,{header:!0}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=n(19),C=n(53),A=n.n(C),y=function(e){var t=e.text,n=e.delay,c=e.onComplete,s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=new A.a(s.current,{strings:t?[t]:[""],typeSpeed:30,startDelay:n||0,showCursor:!1,onComplete:c?function(){return c()}:function(){}});return function(){e.destroy()}}),[t,n,s]),Object(a.jsx)("span",{ref:s})},g=(n(66),function(){var e=Object(r.useState)(!1),t=Object(_.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("div",{className:"hero",children:[Object(a.jsx)("div",{className:"hero__text header",children:Object(a.jsx)(y,{text:"We know more than ever about wellbeing in the world.",onComplete:function(){return c(!0)}})}),Object(a.jsx)("div",{className:"hero__title header",children:Object(a.jsx)(y,{text:n&&'What are we <br class="only-mobile" /> <span class="highlighted">doing</span> about it?'})})]})}),N=(n(67),function(){return Object(a.jsxs)("div",{className:"navbar header",children:[Object(a.jsx)("i",{className:"fas fa-spa icon"}),"The OECD Better Life Index"]})}),D=n(55);function E(e,t){return e.map((function(e){return e[t]}))}function w(e){return e?e.match(/^[a-z]+|[A-Z][a-z]*/g).map((function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})).join(" "):""}var T=n(54),k=function(e){var t=e.countryNames,n=e.dataArray,r={labels:t,datasets:[{label:e.labelName,data:n,backgroundColor:"#EE6352",borderColor:"#EE6352",borderWidth:1}]};return Object(a.jsx)(T.HorizontalBar,{height:500,style:{height:"500px"},data:r,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1}})},H=(n(163),n(164),Object(o.b)((function(e){var t=e.chartOptions;return{chartOptions:t.options,selectedChart:t.selectedChart}}),{changeSelectedChart:function(e){return{type:u.CHANGE_SELECTED_CHART,payload:e}}})((function(e){var t=e.children,n=e.chartOptions,c=e.selectedChart,s=e.changeSelectedChart,o=Object(r.useState)(!1),i=Object(_.a)(o,2),u=i[0],l=i[1],h=Object(r.useRef)();Object(r.useEffect)((function(){var e=function(e){h.current&&h.current.contains(e.target)||(console.log(h.current),l(!1))};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}}),[]);var d=n.map((function(e){var t=e===c;return Object(a.jsxs)("div",{onClick:function(){l(!u),s(e)},className:"text chart-selector__options__option ".concat(t&&"chart-selector__options__option--selected"),children:[t&&Object(a.jsx)("i",{className:"icon fas fa-chevron-right"}),w(e)]},e)}));return Object(a.jsxs)("span",{ref:h,className:"chart-selector",children:[Object(a.jsxs)("span",{onClick:function(){return l(!u)},children:[Object(a.jsx)("i",{className:"icon fas fa-chevron-right chart-selector__chevron ".concat(u&&"chart-selector__chevron--open")}),t]}),u&&Object(a.jsx)("div",{className:"chart-selector__options",children:d})]})}))),R=Object(o.b)((function(e){var t=e.chartData,n=e.chartOptions,a=Object(D.a)(t);return a.sort((function(e,t){return t[n.selectedChart]-e[n.selectedChart]})),{chartData:{countryNames:E(a,"country"),dataArray:E(a,n.selectedChart)},selectedChart:n.selectedChart}}))((function(e){var t=e.chartData,n=e.selectedChart,r=t.countryNames,c=t.dataArray,s=w(n);return Object(a.jsxs)("div",{className:"charts-area",children:[Object(a.jsxs)("h2",{className:"charts-area__title header",children:[Object(a.jsxs)("div",{className:"charts-area__title__first",children:[Object(a.jsx)("i",{className:"fas fa-spa icon"}),Object(a.jsx)(y,{text:s})]}),Object(a.jsx)(H,{children:"change"})]}),Object(a.jsx)(k,{countryNames:r,dataArray:c,labelName:s})]})})),S=(n(165),n(166),function(){return Object(a.jsxs)("div",{className:"footer-area",children:[Object(a.jsx)("i",{className:"fas fa-spa orange icon"}),Object(a.jsxs)("p",{className:"text",children:["This project was made with love and dedication by Arnau G\xf3mez. Visit the"," ",Object(a.jsxs)("a",{href:"https://github.com/ArnoldGee/better-life-index-chart",target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)("i",{className:"fab fa-github icon"})," GitHub Repo"]}),"."]}),Object(a.jsxs)("p",{className:"text",children:["If you want to get a performant and visually appealing web app for your business, please hire me as a web developer on"," ",Object(a.jsxs)("a",{href:"https://www.linkedin.com/in/arnau-g%C3%B3mez-903b49187/",target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)("i",{className:"fab fa-linkedin icon"}),"LinkedIn"]})]})]})}),L=Object(o.b)(void 0,{addChartData:function(e){return{type:u.ADD_CHART_DATA,payload:e}}})((function(e){var t=e.addChartData;return Object(r.useEffect)((function(){(function(){return v.apply(this,arguments)})().then((function(e){return e.data})).then((function(e){t(e)}))}),[t]),Object(a.jsxs)("div",{children:[Object(a.jsx)(N,{}),Object(a.jsx)(g,{}),Object(a.jsx)(R,{}),Object(a.jsx)(S,{})]})}));s.a.render(Object(a.jsx)(o.a,{store:Object(i.c)(h),children:Object(a.jsx)(L,{})}),document.getElementById("root"))},66:function(e,t,n){},67:function(e,t,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.ccbcf10d.chunk.js.map